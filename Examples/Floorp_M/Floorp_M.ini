; MIIIME Hybrid Launcher Configuration
; ⓒ 2026 MIIIME

; [KR] 본 설정 파일은 UTF-8 인코딩으로 저장되어야 합니다.
; [EN] This configuration file must be saved in UTF-8 encoding.

[Launch]
RunAsAdmin=0
LauncherName=Floorp MIIIME Launcher
AppName=Floorp
ExeName=floorp.exe
ExeName64=floorp.exe
UniqueMutex=Floorp_MIIIME_Mutex
AllowMultipleInstances=0
WorkDir=

[Directories]
RunPath=App\Floorp
RawDataPath=App\RawDat
DataPath=Dat
ExtPath=Ext

[Options]
UseJunction=1
FreezeMode=0
LogLevel=0
; Firefox가 {Dat}\profile 폴더를 프로필 경로로 직접 사용하도록 설정
AddCommand=-profile "{Dat}\profile" --no-deelevate

[ProcessWatch]
01=crashhelper.exe
02=crashreporter.exe
03=default-browser-agent.exe
04=maintenanceservicemaintenanceservice.exe
05=maintenanceservice_installer.exe
06=nmhproxy.exe
07=pingsender.exe
08=plugin-container.exe
09=private_browsing.exe
10=updater.exe
11=desktop-launcher.exe
12=helper.exe

[Registry]
; --- [User Profile Data] ---
; Floorp의 핵심 사용자 설정 (가장 중요)
01=HKEY_CURRENT_USER\SOFTWARE\Ablaze\Floorp
; 파이어폭스 기반 브라우저들이 공유하는 설치/런처 정보 (특정 해시값 포함)
02=HKEY_CURRENT_USER\SOFTWARE\Mozilla\Firefox\Installer\22EB8429C9C8096C
03=HKEY_CURRENT_USER\SOFTWARE\Mozilla\Firefox\Launcher

; --- [System Registration] ---
; 설치 경로 및 버전 정보
04=HKEY_LOCAL_MACHINE\SOFTWARE\Mozilla\Ablaze Floorp
05=HKEY_LOCAL_MACHINE\SOFTWARE\mozilla.org\Mozilla
06=HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\floorp.exe
07=HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\Ablaze Floorp

; --- [Browser Integration & Capabilities] ---
; 시작 메뉴 및 기본 브라우저 설정 연결
08=HKEY_LOCAL_MACHINE\SOFTWARE\Clients\StartMenuInternet\Firefox-22EB8429C9C8096C
09=HKEY_LOCAL_MACHINE\SOFTWARE\RegisteredApplications|Firefox-22EB8429C9C8096C

; --- [File Associations (Classes)] ---
; HTML, PDF, URL 프로토콜 연결 설정
10=HKEY_LOCAL_MACHINE\SOFTWARE\Classes\FirefoxHTML-22EB8429C9C8096C
11=HKEY_LOCAL_MACHINE\SOFTWARE\Classes\FirefoxPDF-22EB8429C9C8096C
12=HKEY_LOCAL_MACHINE\SOFTWARE\Classes\FirefoxURL-22EB8429C9C8096C
13=HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Applications\floorp.exe

; --- [Notifications & COM Objects] ---
; 윈도우 알림(Toast) 및 COM 인터페이스 (AccessibleMarshal.dll 등 연결)
14=HKEY_LOCAL_MACHINE\SOFTWARE\Classes\AppUserModelId\FloorpToast-22EB8429C9C8096C
15=HKEY_LOCAL_MACHINE\SOFTWARE\Classes\AppID\{1A8DE780-1742-49B3-A59C-A6D143EBE6C0}
16=HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{1A8DE780-1742-49B3-A59C-A6D143EBE6C0}

[RegistryRoot]
; 빈 폴더 정리 (Ablaze 및 Mozilla 상위 키)
01=HKEY_CURRENT_USER\SOFTWARE\Ablaze
02=HKEY_LOCAL_MACHINE\SOFTWARE\Mozilla
03=HKEY_LOCAL_MACHINE\SOFTWARE\Clients

[CleanupPath]
; 실행 시 경로 불일치로 인한 프로필 초기화 방지
01={Dat}\profile\compatibility.ini
; ------------------------------------------------------------------------------
03={Roaming}\Floorp
04={ProgramData}\Noraneko*
05={Programs}\Floorp Private Browsing*

; ==============================================================================
; [필수 유지 항목 - 삭제 금지]
; 아래 파일들은 지우면 북마크, 암호, 확장프로그램 등이 날아가므로 주의하세요.
; ------------------------------------------------------------------------------
; * places.sqlite*, favicons.sqlite*: 북마크, 방문기록, 아이콘
; * key4.db, logins.db: 저장된 사이트 비밀번호
; * cookies.sqlite*: 로그인 쿠키 (지우면 매번 다시 로그인해야 함)
; * prefs.js: Firefox 전체 설정 파일
; * extensions, addons.json: 설치된 확장 프로그램
; * cert9.db: 공인인증서 등 인증서 정보
; * search.json.mozlz4: 검색 엔진 설정
; * permissions.sqlite: 사이트별 권한 설정 (알림, 팝업 허용 등)
; ==============================================================================

; ==============================================================================
; Firefox Profile Cleanup (Dat\profile) - 안전한 삭제 대상
; ==============================================================================
; [1] 캐시 및 임시 파일 (Cache & Temp)
06={Dat}\profile\cache2
07={Dat}\profile\startupCache
08={Dat}\profile\shader-cache
09={Dat}\profile\thumbnails
10={Dat}\profile\minidumps
11={Dat}\profile\crashes
12={Dat}\profile\saved-telemetry-pings
13={Dat}\profile\datareporting

; [2] 불필요한 활동 로그 및 피드 (Activity Stream & Feeds)
14={Dat}\profile\activity-stream.contile.json
15={Dat}\profile\activity-stream.inferred_personalization_feed.json
16={Dat}\profile\activity-stream.newtab_content_event_stats.json
17={Dat}\profile\activity-stream.shortcut_cache.json
18={Dat}\profile\activity-stream.weather_feed.json
19={Dat}\profile\targeting.snapshot.json
20={Dat}\profile\shield-preference-experiments.json
21={Dat}\profile\ExperimentStoreData.json

; [3] 세션 복구 데이터 (주석 해제됨: 닫힌 탭 기록 삭제, 매번 새 창처럼 시작)
22={Dat}\profile\sessionstore-backups
23={Dat}\profile\sessionCheckpoints.json

; [4] 락 파일 및 기타 임시 데이터
24={Dat}\profile\parent.lock
25={Dat}\profile\compatibility.ini
26={Dat}\profile\times.json

; [5]
27={Dat}\profile\bookmarkbackups
28={Dat}\profile\datareporting
29={Dat}\profile\extension-store
30={Dat}\profile\extension-store-menus
31={Dat}\profile\features
32={Dat}\profile\floorp-os
33={Dat}\profile\gmp-gmpopenh264
34={Dat}\profile\gmp-widevinecdm
35={Dat}\profile\umpListCache
36={Dat}\profile\safebrowsing
37={Dat}\profile\security_state
38={Dat}\profile\settings
39={Dat}\profile\shader-cache
40={Dat}\profile\ssb
41={Dat}\profile\jumpListCache
42={Dat}\profile\remote-settings

[Advanced]
; [KR] 고급 사용자 설정 (변경 시 주의)
; [EN] Advanced Settings (Handle with care)
RetryLimit=10
RetryDelay=200
CleanupWait=500
ProcessCheckInterval=1000
SystemFolderExclusions=|Microsoft|Windows|Packages|Boot|PerfLogs|
ExitThreshold=2
LogRotationSize=5242880
GuidTrimLen=1